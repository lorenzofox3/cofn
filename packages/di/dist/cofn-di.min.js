const e=e=>"function"==typeof e?e:()=>e,t={},o=Symbol("registry"),r=r=>s=>{const n=e(r);return function*({$host:e,...r}){yield,e[o]=Object.assign(Object.create(e.closest("[provider]")?.[o]??t),n({$host:e,...r})),e.toggleAttribute("provider");const c=s({$host:e,...r});c.next(),yield*c}},s=r=>function*({$host:s,...n}){yield;const c=(({services:t})=>{const o=new Proxy(t,{get(r,s,n){if(!Reflect.has(t,s))throw new Error(`could not resolve injectable "${s}"`);return e(t[s])(o)}});return o})({services:s.closest("[provider]")?.[o]??t}),i=r({$host:s,services:c,...n});i.next(),yield*i};export{s as inject,r as provide};
